# 기말 프로젝트

**2020 2학기 2D 게임프로그래밍** 기말 프로젝트입니다.

# 게임의 소개

### 제목
Dance Dance Revolution Light Ver.

### 원 게임에 대한 정보
원 게임은 Dance Dance Revolution으로 콘솔 아케이드 등 여러가지 버전이 있지만, 내가 copy할 게임은 Playstation1 버전이다.
장르는 리듬게임으로 음악과 함께 아래에서 위로 올라오는 상하좌우 방향키를 타이밍에 맞게 리듬감을 느끼며 누르는 게임이다.
<img src="https://i.ytimg.com/vi/9_7El6jgX1c/hqdefault.jpg" width="40%" height="30%" title="px(픽셀) 크기 설정" alt="untitled"></img>

### 게임의 목적과 방법
우선 2D는 기본적으로 3D보다는 연출 등의 면에서 효과가 떨어진다. 그렇기 때문에 보여줄 수 있는 효과도 적은 편이다. 하지만, 리듬게임의 경우, 그나마 2D의 리소스를 살리면서 재미도 느낄 수 있는 게임이라 리듬게임을 기말 프로젝트로 만들기로 결정하였다.
근데, 나의 목적은 새로운 아이디어로 새 리듬게임을 만드는 것이 아니다. 
어릴 때 내가 재밌게 했던 게임을 성인이 된 내가 직접 구현해서 다시 즐겨보자는 목적을 가지고 있다.
게임 방법은 간단하다. 위에서 말했듯이 음악과 함께 아래에서 위로 올라오는 상하좌우 방향키를 타이밍에 맞게 누르면 된다.

# GameState (Scene) 의 수 및 각각의 이름
Scene의 수는 기본적으로는 4개로 구성할 예정이다.
Main 화면, Select Song 화면, Game Play 화면, Score 화면 이렇게 4가지에 추가적인 아이디어가 떠오르면 플러스 알파로 추가할 생각이다. 

# 각 GameState 별 설명
### Main 화면
게임을 실행시켰을 때 처음으로 보여지는 화면이다.
화면에는 게임 제목이 쓰여진 이미지 파일과 스페이스 바를 누르면 게임이 시작된다는 문구가 쓰여진 이미지 파일, 그리고 이어폰이나 헤드셋을 사용하는 것을 권장한다는 문구가 쓰여진 이미지 파일을 띄울 생각이다. 
스페이스 바를 누르면 다음 화면으로 넘어간다.

### Select Song 화면
원하는 노래를 선택할 수 있는 화면이다.
화면에는 최소 3개의 노래 제목이 쓰여진 객체가 보여 진다. (노래 클래스를 만들 예정)
각각의 노래 제목 옆에는 플레이어의 Max Combo 수와 랭크가 보여 진다.
플레이 하고 싶은 노래 제목을 마우스 왼쪽 버튼으로 클릭하면 다음 화면으로 넘어가 게임이 진행된다.

### Game Play 화면
플레이어가 본격적으로 게임을 플레이 할 수 있는 화면이다.
화면 좌측 상단에 플레이어의 HP Bar (Miss 횟수에 따라 깎이며, Miss가 너무 많으면 게임이 종료된다.) 를 표시한다.
그 아래에 좌 방향키, 상 방향키, 하 방향키, 우 방향키 순으로 화살표 객체를 표시하다.
일정 시간에 따라 4가지 종류의 화살표 객체가 아래에서 위로 올라오게 한다.
올라오는 화살표 객체가 상단에 표시되어 있는 화살표 객체와 겹치게 될 때 플레이어가 해당하는상하좌우 방향키를 누르는 방식으로 진행된다. 
화면의 좌측 모서리 중앙에는 플레이어의 콤보 수를 띄워주고 콤보가 발생하지 않거나 miss가 발생하면 보여주지 않도록 한다. 
노래가 끝나거나 miss로 인하여 게임 오버가 되면 다음 화면으로 넘어간다.

### Score 화면
플레이어의 게임 클리어 또는 게임 오버 여부를 알려주고, 플레이어의 Max Combo 수, 점수, 랭크(S~F)를 보여준다.
Enter키를 누르면 다시 Select Song 화면으로 돌아가게 된다.

### 다이어그램
![scenes](/img/Diagram.png)

# 8주간 개발 일정
### 1주차
메인 화면 개발 (음성 빼고)
### 2주차
곡 선택화면 개발 (음성 빼고)
### 3주차
플레이 화면 기본 HUD 구성
### 4주차
노래 선정 및 노트 설계
### 5주차 & 6주차
선정한 노래와 설계한 노트 토대로 애니메이션 구현
### 7주차
판정 삽입 & 스코어를 각각의 객체(화살표 등)과 링킹
### 8주차
메인화면과 곡 선택 화면에 음성 삽입

# game_state
스타트 화면을 띄우게 하였고, 스페이스 바를 누르면 게임 플레이 화면으로 넘어가게 하였다.

# game_state_gameplay
게임 플레이가 진행되는 게임 스테이트이다.
### class Arrow
PATH에 4가지 타입의 화살표(좌 상 하 우)의 리소스를 담았다. (인덱스 값을 이용하기 위해서)
아래에서 위로 화살표가 올라오므로, y 방향으로의 값만 변화시킨다.

### arrow_generator.py
화살표를 생성시키기 위한 파일이다.

일단은 랜덤으로 일정 시간마다 4가지 타입의 화살표 중 하나를 생성시켜 아래에서 위로 올라오게 하였다.
상단에 고정되어 있는 화살표와 싱크가 맞을 때, 해당 화살표에 맞는 방향키를 누르면, 충돌체크를 하여, 이미지가 바뀐 후 사라지도록 하였고, 싱크에 맞춰 해당 방향키를 누르지 못하면,
화살표는 그냥 위로 올라가게 하였다.

추후에 노래에 맞춰 타이머를 바꿀 예정이다.


# 필요한 기술
### 다른 과목에서 배운 기술
C++ 수업시간에서 배웠던 Class 만들기가 이 과목 (2D 게임 프로그래밍) 시간에서도 배우는 Class 만들기에 도움이 되어서 게임 내의 객체를 프로그래밍 하는데 도움이 될 것 같다.
### 이 과목에서 배울 것으로 기대되는 기술
사실상 단순히 Visual Studio로 코드를 짜서 뜨는 콘솔 창으로 결과값을 보는 형태가 아닌 직접 게임을 만드는 작업은 이번이 처음이다. 따라서 어떤 식으로 게임이 완성되어 나가는 등의 게임 인터페이스를 배울 것으로 기대된다.
### 다루지 않는 것 같아서 수업에 다루어 달라고 요청할 기술
아직 수업을 좀 더 들어봐야 알 것 같다. 
